{% load static%}

<style>
    .no-recent-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 300px;
        text-align: center;
        padding: 20px;
      }
</style>

<div>
    
    <div class="card my-4 mx-2" id="rcard" style="min-height: 400px;
">
        
        <div class="card-header text-center bg-info-subtle">
            <h4 class="card-title text-dark ">Recent activity</h4>
        </div>
        <div class="card-body px-3">
        {% if recent_msg %}
            {% for msg in recent_msg %}
            <div class="toast-header d-flex justify-content-between">
                <div>
                    {% if msg.user.avator.url != " "  %}
                <img src="{{msg.user.avator.url}}" class="recent-img" alt="" >
                {% else %}
                <img src="{% static 'images/avator.jpg'%}" class="recent-img" alt="" >
{% endif %}
                <strong class="me-auto">@{{msg.user}}</strong>
            </div>
            <div>
                <small class="text-body-secondary">{{msg.created|timesince}}</small>
            </div>
            </div>
            <p style="font-size: medium; margin-bottom: -3px;" class="mt-2">{{msg.room}}</p>
            <small>reply</small>
            <p style="font-size: smaller;" class="text-end text-bg-secondary px-4 py-2 mx-2 rounded-start-pill rounded-end-pill fw-lighter font-monospace" ><i>{{msg.body|truncatechars:70}}</i></p>
        <hr>
                {% endfor %}
                {%else%}
                <div class="no-recent-container">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-tag topic-icon" viewBox="0 0 16 16">
                      <path d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"/>
                      <path d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586 7 7L13.586 9l-7-7H2v4.586z"/>
                    </svg>
                    <h5 class="text-secondary">No Activies</h5>
                  </div>
                {% endif %}
              
        </div>  
          
        <a href="{% url 'recent' %}" class="card-footer text-dark text-center showhover text-decoration-none" >
            more
          </a>
    </div>
        
</div>
